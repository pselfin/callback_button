# Модуль обратного звонка callback_button

Модуль создает специальную кнопку "обратного звонка", в которую нужно разместить блок вебформы и повесить цель в Яндекс Метрике.

Актуальность: **drupal 7**

# Установка и настройка модуля

* Скачайте модуль с гитхаба (git clone https://github.com/pselfin/callback_button.git) и установите модуль как обычно
* Установите модуль webform - https://www.drupal.org/project/webform
* Создайте вебформу
* Выполните настройки в созданной форме: "Настройки формы - Расширенные настройки": поставьте галочку "Доступно как Блок"
* Перейдите в настройки модуля callback_button: /admin/config/user-interface/callback_button
* Настройте "Delta webform block *" [[обязательное поле]]  - Дельта блока вебформы вида "client-block-26", посмотреть можно в ID блока (будет что-то вроде webform-client-form-26), webform - отбрасываем
* Укажите Текст перед и после формы. 
Например: 

````
<span style="font-size:20px">Закажите обратный звонок</span>

<div class="after-form">Мы вам перезвоним в ближайшее время<br> (в рабочее время: 9.00-21.00).<br> Гарантируем конфиденциальность переданных данных.</div>
```

* Укажите "Номер счетчика *" [[обязательное поле]]  Яндекс метрики (необходимо для дальнейшего отслеживания целей)
* В настройках Блоков /admin/structure/block выведите блоки "Callback button" и "Callback button form" в видимый регион
* Для настройки цели по клику на кнопку обратного звонка добавьте в настройках цель на JavaScript-событие - Идентификатор цели: CALLBACKBUTTON

Так же рекомендуем вам установить и настроить модуль https://www.drupal.org/project/fz152 для соответствия закону 152 ФЗ